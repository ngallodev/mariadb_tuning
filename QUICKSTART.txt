╔══════════════════════════════════════════════════════════════════════════════╗
║                   MARIADB DUAL-MODE OPTIMIZATION                             ║
║                         Quick Start Card                                     ║
╚══════════════════════════════════════════════════════════════════════════════╝

┌─ INSTALLATION ───────────────────────────────────────────────────────────────┐
│                                                                              │
│  1. Install configuration:                                                   │
│     sudo cp mariadb_performance.cnf /etc/mysql/mariadb.conf.d/99-performance.cnf │
│     sudo systemctl restart mariadb                                           │
│                                                                              │
│  2. Verify:                                                                  │
│     ./mariadb_status.sh                                                      │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘

┌─ RESOURCE USAGE ─────────────────────────────────────────────────────────────┐
│                                                                              │
│  CONSERVATIVE MODE (Normal Operations):                                      │
│    • Memory: ~70-80GB   (leaves 176-186GB for other services)              │
│    • CPU:    <10%       (26-27 cores available)                            │
│    • I/O:    <200 IOPS  (minimal disk activity)                            │
│                                                                              │
│  EXTREME MODE (Bulk Loading):                                                │
│    • Memory: ~80-100GB  (leaves 156-176GB for other services)              │
│    • CPU:    200-800%   (20-26 cores still available)                      │
│    • I/O:    1000-4000  (maximum throughput)                                │
│                                                                              │
│  ✅ Even during extreme loads, 130GB+ RAM remains free for other roles!     │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘

┌─ USAGE OPTIONS ──────────────────────────────────────────────────────────────┐
│                                                                              │
│  OPTION 1: Automated (Recommended)                                           │
│  ──────────────────────────────────────                                     │
│    ./bulk_load.sh database table datafile.txt                               │
│                                                                              │
│    ✓ Automatically switches to extreme mode                                 │
│    ✓ Loads your data                                                         │
│    ✓ Automatically restores conservative mode                               │
│    ✓ Provides timing statistics                                             │
│                                                                              │
│  OPTION 2: Manual Control                                                    │
│  ─────────────────────────                                                   │
│    mysql -u root -p < mariadb_preload.sql      # Switch to extreme          │
│    # [Load your data using LOAD DATA INFILE]                                │
│    mysql -u root -p < mariadb_postload.sql     # Restore conservative       │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘

┌─ MONITORING ─────────────────────────────────────────────────────────────────┐
│                                                                              │
│  Check current mode and resources:                                           │
│    ./mariadb_status.sh                                                       │
│                                                                              │
│  Watch in real-time:                                                         │
│    watch -n 2 './mariadb_status.sh'                                         │
│                                                                              │
│  Check mode via SQL:                                                         │
│    mysql -u root -p -e "SELECT @@innodb_flush_log_at_trx_commit;"          │
│    # Returns: 0 = extreme mode, 1 = conservative mode                       │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘

┌─ PERFORMANCE EXPECTATIONS ───────────────────────────────────────────────────┐
│                                                                              │
│  Load Speed (rows per second):                                               │
│                                                                              │
│    Row Size       Conservative Mode    Extreme Mode      Speedup            │
│    ─────────────  ─────────────────    ────────────      ────────           │
│    Small (<100B)   10K-50K/sec         100K-500K/sec    10-50x             │
│    Medium (200B)   5K-20K/sec          50K-200K/sec     10-20x             │
│    Large (>500B)   2K-10K/sec          20K-100K/sec     10-20x             │
│                                                                              │
│  Example: 10 million rows × 200 bytes = 2GB file                            │
│    • Conservative: 40-60 minutes                                             │
│    • Extreme:      2-5 minutes                                               │
│    • Time saved:   35-58 minutes! ⚡                                         │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘

┌─ KEY FEATURES ───────────────────────────────────────────────────────────────┐
│                                                                              │
│  ✓ Dual-mode: Low resources normally, extreme during loads                  │
│  ✓ Automatic: Scripts handle mode switching automatically                   │
│  ✓ Safe: Automatic restoration prevents forgetting to restore               │
│  ✓ Multi-role friendly: Leaves 130GB+ RAM for other services               │
│  ✓ 10-50x faster: Extreme mode provides massive speed improvement           │
│  ✓ Production-ready: Conservative baseline suitable for 24/7 ops           │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘

┌─ IMPORTANT REMINDERS ────────────────────────────────────────────────────────┐
│                                                                              │
│  ⚠ Run ANALYZE TABLE after bulk loads for optimal query performance         │
│  ⚠ Schedule bulk loads during off-peak hours when possible                  │
│  ⚠ Monitor first few loads to understand resource patterns                  │
│  ⚠ Always use ./bulk_load.sh to prevent forgetting to restore settings      │
│  ⚠ If using manual mode, don't forget to run mariadb_postload.sql!         │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘

┌─ FILES INCLUDED ─────────────────────────────────────────────────────────────┐
│                                                                              │
│  mariadb_performance.cnf    Conservative baseline configuration             │
│  mariadb_preload.sql        Enable extreme mode (manual)                    │
│  mariadb_postload.sql       Restore conservative mode (manual)              │
│  bulk_load.sh               Automated loading script (recommended)          │
│  mariadb_status.sh          Monitor current mode and resources              │
│  QUICK_REFERENCE.md         Detailed comparison of modes                    │
│  README.md                  Complete documentation                          │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘

┌─ NEED HELP? ─────────────────────────────────────────────────────────────────┐
│                                                                              │
│  Check current status:           ./mariadb_status.sh                        │
│  Read quick reference:           cat QUICK_REFERENCE.md                     │
│  Read full documentation:        cat README.md                              │
│                                                                              │
│  Common issues:                                                              │
│    • Slow load?     → Check if extreme mode is active (should be)          │
│    • Out of memory? → Unlikely with 256GB, check other services            │
│    • Can't connect? → Check MySQL credentials and privileges                │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘

                    Your multi-role server is optimized and ready! 🚀
